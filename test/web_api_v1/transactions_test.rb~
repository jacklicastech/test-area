require 'test/unit'
require 'net/http'
require 'openssl'

class WebApiV1Transactions < Test::Unit::TestCase
	def test_flush_empty_batch
    uri = URI.parse("https://192.168.1.116:44443/transactions.json")
		http = Net::HTTP.new(uri.host, uri.port)
		http.use_ssl = true
		http.verify_mode = OpenSSL::SSL::VERIFY_NONE
		http.ssl_version = :TLSv1
		http.ciphers = ['RC4-SHA']
		
		request = Net::HTTP::Delete.new(uri.request_uri)
		response = http.request(request)
		assert_equal 202, response.status
		assert_equal "", response.body
	end
end

